

# 그래프의 최소 비용 문제

## 1. 최소신장트리

- ##### 신장트리

  n개의 정점을 포함하는 무향 그래프에서 n개의 정점과 n-1개의 간선으로 구성된 트리

- ##### 최소신장트리

  가중치 그래프에서 신장 트리를 구성하는 간선들의 합이 최소인 신장 트리



### 1. 프림 알고리즘 (* Heap 이용)

> 한 정점에 연결되 간선들 중 하나씩 선택하면서 최소 신장트리를 만들어 가는 방식

1. 임의의 정점을 하나 선택해서 시작
2. 선택한 정점들과 인접하는 정점들 중에 최소 비용의 간선이 존재하는 정점 선택
3. 모든 정점이 선택될 때 가지 두 번째 과정 반복

- 정점의 수 n개, 시작 정점을 제외한 n-1개의 정점 선택
  - n-1개의 간선 선택됨
  - 선택된 정점들과 간선들은 하나의 트리 구성

#### 프림 알고리즘의 동작 과정

~~~python
def MST_PRIM(G, s):													#G:그래프, s:시작 정점
  key = [INF]*N															#가중치를 무한대로 초기화	
  pi = [None] * N														#트리에서 연결될 부모 정점 초기화
  visited = [False] * N											#방문여부 초기화
  key[s] = 0																#시작 정점의 가중치를 0으로 설정
  
  for _ in range(N):												#정점의 개수만큼 반복
    minIdx = -1
    min = INF
    for i in range(N):											#방문 안한 정점 중 최소 가중치 정점 찾기
      if not visited[i] and key[i] < min:
        min = key[i]
        minIdx = i
      visited[minIdx] = True								#최소 가중치 정점 방문 처리
      for v, val in G[minIdx]:							#선택 정점의 인접한 정점
        if not visited[v] and val < key[v]:
          key[v] = val											#가중치 갱신
          pi[v] = minIdx										#트리에서 연결된 부모 정점
~~~



### 2. 크루스칼 알고리즘 

> 최소 가중치 간선을 하나씩 선택해서 최소 신장 트리를 찾는 알고리즘
>
> - N개의 정점을 포함하는 그래프에서 n-1개의 간선을 선택하는 방식
> - 간선을 선택해 나가는 과정에 여러 개의 트리들이 존재
> - 초기 상태는 n개의 정점들이 각각 하나의 트리가 됨
>   -  하나의 정점을 포함하는 n개의 상호 배타 집합 존재
> - 간선을 선택하면 간선의 두 정점이 속한 트리가 연결되고 하나의 집합으로 합쳐짐
> - 선택한 간선의 두 정점이 이미 연결된 트리에 속한 정점들일 경우 사이클이 생김
>   - 두 정점에 대해 같은 집합의 원소 여부 검사

1. 최초, 모든 간선을 가중치에 따라 오름차순으로 정렬
2. 가중치가 가장 낮은 간선부터 선택하면서 트리 증가
   - 사이클이 존재하면 다음으로 가중치가 낮은 간선 선택
3. n-1개의 간선이 선택될 때까지 두 번째 과정을 반복

#### 크루스칼 알고리즘의 동작 과정

~~~python
def MST_KRUSKAL(G):
  mst = []													# 공집합
  
  for i in range(N):
    Make_Set(i)
    
  G.sort(key = lambda t:t[2])				# 가중치 기준으로 정렬
  
  mst_cost = 0											# MST 가중치
  
  while len(mst) < N-1:
    u, v, val = G.pop(0)						#최소 가중치 간선 가져오기
    if Find_Set(u) != Find_Set(v):
      Union(u, v)
      mst.append((u, v))						#트리에 (u, v)추가
      mst_cost += val
~~~



## 2. 최단 경로

> 간선의 가중치가 있는 유향 그래프에서 두 정점 사이의 경로들 중 간선의 가중치의 합이 최소인 경로

- 단일 시작점 최단 경로 문제

  > 출발점에서 다른 모든 정점들에 이르는 최단 경로를 구하는 문제

  - 다익스트라 알고리즘 (Dijkstra) : 음의 가중치를 허용하지 않음
  - 벨만-포드 알고리즘(Bellman-Ford) : 음의 가중치 허용. 가중치 합이 음인 사이클은 허용하지 않음

- 모든 쌍 최단 경로 문제

  > 모든 정점 쌍 간의 최단 경로를 구하는 것

  - 플로이드-워샬 알고리즘

### 1. 다익스트라 알고리즘

- 시작 정점에서 거리가 최소인 정점부터 선택해 나가면서 최단 경로를 구하는 방식
- 탐욕 기법을 사용한 알고리즘으로 최소 신장 트리를 구하는 프림 알고리즘과 유사
- 시작정점(r)에서 끝 정점(t)까지의 최단 경로에 정점 x가 존재
- 최단 경로는 r에서 x까지의 최단경로와 x에서 t까지의 최단 경로로 구성